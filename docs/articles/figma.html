<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="figma">
<title>Get your Figma file into R ‚Ä¢ figma</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get your Figma file into R">
<meta property="og:description" content="figma">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">figma</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/figma.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/http-errors.html">Common HTTP errors in the Figma API</a>
    <a class="dropdown-item" href="../articles/quarto-css.html">Building custom CSS from the Figma API</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pedropark99/figma/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get your Figma file into R</h1>
                        <h4 data-toc-skip class="author">Pedro Duarte
Faria</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pedropark99/figma/blob/HEAD/vignettes/figma.Rmd" class="external-link"><code>vignettes/figma.Rmd</code></a></small>
      <div class="d-none name"><code>figma.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">1. Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>You might have some Figma files that you want to bring into R, to
analyze, or, use the visual attributes of the objects from this file to
compose a layout that you want to use in a RMarkdown/Quarto file.</p>
<p>The <code>figma</code> package allows you to that. It uses the Figma
API to bring all of your Figma file data into R. It does this, by
sending a HTTP request to the Figma API to collect all of your Figma
data, and then, it parses this data into a R native object, so you can
easily use it in your R process.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pedropark99/figma" class="external-link">figma</a></span><span class="op">)</span></span></code></pre></div>
<p>But in order to use the Figma API, you need to collect two key
variables about your file and your credentials. They are:</p>
<ul>
<li>
<code>file_key</code>: The ID (or the ‚Äúkey‚Äù) that identifies your
Figma file;</li>
<li>
<code>token</code>: Your personal access token from the Figma
platform;</li>
</ul>
<p>However, if you want to use <code><a href="../reference/get_figma_page.html">get_figma_page()</a></code>, you will
need to collect a third information, which is the <code>node_id</code>,
or the ID that identifies a canvas/page of your Figma file. We will talk
about this ID on section 1.2.</p>
<div class="section level3">
<h3 id="is-always-nice-to-read-the-official-figma-api-documentation">1.1 Is always nice to read the official Figma API documentation<a class="anchor" aria-label="anchor" href="#is-always-nice-to-read-the-official-figma-api-documentation"></a>
</h3>
<p>Some of the information described in this vignette comes from the
official Figma API documentation, and in order to learn more about a
specific subject, is always a good idea to read about that subject
directly from the source üòâ.</p>
<p>I will give you direct links to specific parts of the documentation
throughout this vignette, but if you want to read the complete
documentation, you can access <a href="https://www.figma.com/developers/api" class="external-link">this link</a>.</p>
</div>
<div class="section level3">
<h3 id="finding-the-key-or-id-of-your-figma-file">1.2 Finding the key (or ID) of your Figma file<a class="anchor" aria-label="anchor" href="#finding-the-key-or-id-of-your-figma-file"></a>
</h3>
<p>The file key (or the file key), is a random text that identifies your
Figma file. The Figma API uses this key to identify which specific Figma
file you are requesting for.</p>
<p>You can find the key (or ID) of your Figma file by looking at the URL
in your web browser, when you access your Figma file at the Figma
platform. As an example, lets use this Figma file entitled
<code>Untitled</code> (I will not make a joke on that üòÖ):</p>
<div class="figure">
<img src="example-figma-file.png" alt="An example of Figma file" width="120%"><p class="caption">
An example of Figma file
</p>
</div>
<p>If we look at the top of my web browser, we have the following
URL:</p>
<p><code>https://www.figma.com/file/hch8YlkIrYbU3raDzjPvCz/Untitled?node-id=0%3A1</code></p>
<p>The key (or the ID) of this file is
<code>"hch8YlkIrYbU3raDzjPvCz"</code>. This means that the URL of every
Figma file is composed of this structure. So in order to use the
functions from the <code>figma</code> package, you should always collect
this <code>:file_key</code> portion of the URL, to get the key to your
file.</p>
<p><code>https://www.figma.com/file/:file_key/:file_title?:node_id</code></p>
<p>This also means that, if you want to use
<code><a href="../reference/get_figma_page.html">get_figma_page()</a></code>, you will need to collect the
<code>:node_id</code> portion of the URL as well. This portion gives you
the node ID, or, in other words, the ID that identifies the canvas/page
you are on. This portion of the URL is usually a key-value pair, where
the ID of your node is after the equal sign (<code>=</code>).</p>
<p>For example, by looking at the URL example that we gave above, we
know that the canvas/page where I am is the page of
<code>node_id = "0%3A1"</code>.</p>
</div>
<div class="section level3">
<h3 id="get-your-personal-access-token">1.3 Get your personal access token<a class="anchor" aria-label="anchor" href="#get-your-personal-access-token"></a>
</h3>
<p>You can read more about the authentication process and the use of
personal access tokens, in <a href="https://www.figma.com/developers/api#authentication" class="external-link">the section
‚ÄúAuthentication‚Äù of the Figma API documentation</a>. If you do not have
a personal access token, you can create one in the Figma platform. Just
log in the platform, and click on the <code>Settings</code> section,
like in the image below:</p>
<div class="figure">
<img src="figma-settings.png" alt=""><p class="caption">Settings of Figma platform</p>
</div>
<p>After that, look for the <code>Personal access token</code> section
of the settings, like in the image below. This is where you can create
all of your personal access tokens. Just add a description (or a
‚Äúalias‚Äù) to your token, and press Enter. A pop-up should appear in your
screen with your new token.</p>
<div class="figure">
<img src="create-token.png" alt="Personal access token section in settings" width="100%"><p class="caption">
Personal access token section in settings
</p>
</div>
<p>The Figma API uses this secret token to identify you, to know that is
you that is requesting for a file, and not someone else. Because of
this, is important to keep this token a secret, because if someone have
it, they can access your Figma files through the API.</p>
<p>A standard way to store these passwords, is to store them in the
<code>.Renviron</code> file, but there are many other methods that are
good alternatives too. A good place to start is the <a href="https://cran.r-project.org/package=httr/vignettes/secrets.html" class="external-link">vignette
from Hadley Wickham</a>.</p>
</div>
<div class="section level3">
<h3 id="use-get_figma_file-to-get-your-figma-file">1.4 Use <code>get_figma_file()</code> to get your Figma file<a class="anchor" aria-label="anchor" href="#use-get_figma_file-to-get-your-figma-file"></a>
</h3>
<p>Now that you have the key (or ID) that identifies your Figma file,
and your personal token that identifies yourself, you can use
<code><a href="../reference/get_figma_file.html">get_figma_file()</a></code> to get your Figma file:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_key</span> <span class="op">&lt;-</span> <span class="st">"hch8YlkIrYbU3raDzjPvCz"</span></span>
<span><span class="co"># Insert your personal token:</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="st">"Your personal token ..."</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu"><a href="../reference/get_figma_file.html">get_figma_file</a></span><span class="op">(</span></span>
<span>  <span class="va">file_key</span>, <span class="va">token</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># A `response` object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
<pre><code>Response [https://api.figma.com/v1/files/hch8YlkIrYbU3raDzjPvCz]
  Date: 2022-10-29 16:56
  Status: 200
  Content-Type: application/json; charset=utf-8
  Size: 4.58 kB
{"document":{"id":"0:0","name":"Document","type":"DOCUMENT","children":[{"id":"0:1","name":"Page 1","typ...</code></pre>
</div>
<div class="section level3">
<h3 id="using-the-response-object">1.5 Using the <code>response</code> object<a class="anchor" aria-label="anchor" href="#using-the-response-object"></a>
</h3>
<p>The functions from <code>figma</code> package have the philosophy of
giving (by default) the most raw and unprocessed result as possible to
the user. This is good for debugging situations, because it gives all
the available information to the user.</p>
<p>However, this unprocessed result is usually not strucutured in a very
friendly and useful format, which makes analysis and transformation
pipelines harder and more complex. That is why
<code><a href="../reference/get_figma_file.html">get_figma_file()</a></code> comes with more output formats available
through the <code>.output_format</code> argument, which we will describe
later.</p>
<p>To give you an useful example, you can access the exact
<code>response</code> object shown in the example of section 1.4. This
<code>response</code> object is stored in a data object called
<code>untitled_file</code>, that you can access with
<code>data("untitled_file", package = "figma")</code>. This object
<code>untitled_file</code> contains all of the data from the Figma file
shown in section 1.2.</p>
<p>As you can see in the result below, a <code>response</code> object is
just a simple R list with many elements:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">untitled_file</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 10</span></span>
<span><span class="co">#&gt;  $ url        : chr "https://api.figma.com/v1/files/hch8YlkIrYbU3raDzjPvCz"</span></span>
<span><span class="co">#&gt;  $ status_code: int 200</span></span>
<span><span class="co">#&gt;  $ headers    :List of 12</span></span>
<span><span class="co">#&gt;   ..$ content-type                : chr "application/json; charset=utf-8"</span></span>
<span><span class="co">#&gt;   ..$ date                        : chr "Sat, 29 Oct 2022 16:56:50 GMT"</span></span>
<span><span class="co">#&gt;   ..$ access-control-allow-origin : chr "*"</span></span>
<span><span class="co">#&gt;   ..$ access-control-allow-headers: chr "Content-Type, X-Figma-Token, Authorization"</span></span>
<span><span class="co">#&gt;   ..$ cache-control               : chr "no-cache, no-store"</span></span>
<span><span class="co">#&gt;   ..$ vary                        : chr "X-Figma-Token,Authorization"</span></span>
<span><span class="co">#&gt;   ..$ x-cache                     : chr "Miss from cloudfront"</span></span>
<span><span class="co">#&gt;   ..$ via                         : chr "1.1 88c333921d5c405e037b84bb8c2dc33e.cloudfront.net (CloudFront)"</span></span>
<span><span class="co">#&gt;   ..$ x-amz-cf-pop                : chr "GRU3-P1"</span></span>
<span><span class="co">#&gt;   ..$ alt-svc                     : chr "h3=\":443\"; ma=86400"</span></span>
<span><span class="co">#&gt;   ..$ x-amz-cf-id                 : chr "gjOnBhIpDZxekWpx-zbAwqxsOLunePv8LSTfdf-elMQNLXpyAVSuXw=="</span></span>
<span><span class="co">#&gt;   ..$ strict-transport-security   : chr "max-age=31536000; includeSubDomains; preload"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:2] "insensitive" "list"</span></span>
<span><span class="co">#&gt;  $ all_headers:List of 1</span></span>
<span><span class="co">#&gt;   ..$ :List of 3</span></span>
<span><span class="co">#&gt;   .. ..$ status : int 200</span></span>
<span><span class="co">#&gt;   .. ..$ version: chr "HTTP/2"</span></span>
<span><span class="co">#&gt;   .. ..$ headers:List of 12</span></span>
<span><span class="co">#&gt;   .. .. ..$ content-type                : chr "application/json; charset=utf-8"</span></span>
<span><span class="co">#&gt;   .. .. ..$ date                        : chr "Sat, 29 Oct 2022 16:56:50 GMT"</span></span>
<span><span class="co">#&gt;   .. .. ..$ access-control-allow-origin : chr "*"</span></span>
<span><span class="co">#&gt;   .. .. ..$ access-control-allow-headers: chr "Content-Type, X-Figma-Token, Authorization"</span></span>
<span><span class="co">#&gt;   .. .. ..$ cache-control               : chr "no-cache, no-store"</span></span>
<span><span class="co">#&gt;   .. .. ..$ vary                        : chr "X-Figma-Token,Authorization"</span></span>
<span><span class="co">#&gt;   .. .. ..$ x-cache                     : chr "Miss from cloudfront"</span></span>
<span><span class="co">#&gt;   .. .. ..$ via                         : chr "1.1 88c333921d5c405e037b84bb8c2dc33e.cloudfront.net (CloudFront)"</span></span>
<span><span class="co">#&gt;   .. .. ..$ x-amz-cf-pop                : chr "GRU3-P1"</span></span>
<span><span class="co">#&gt;   .. .. ..$ alt-svc                     : chr "h3=\":443\"; ma=86400"</span></span>
<span><span class="co">#&gt;   .. .. ..$ x-amz-cf-id                 : chr "gjOnBhIpDZxekWpx-zbAwqxsOLunePv8LSTfdf-elMQNLXpyAVSuXw=="</span></span>
<span><span class="co">#&gt;   .. .. ..$ strict-transport-security   : chr "max-age=31536000; includeSubDomains; preload"</span></span>
<span><span class="co">#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "insensitive" "list"</span></span>
<span><span class="co">#&gt;  $ cookies    :'data.frame': 0 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;   ..$ domain    : logi(0) </span></span>
<span><span class="co">#&gt;   ..$ flag      : logi(0) </span></span>
<span><span class="co">#&gt;   ..$ path      : logi(0) </span></span>
<span><span class="co">#&gt;   ..$ secure    : logi(0) </span></span>
<span><span class="co">#&gt;   ..$ expiration: 'POSIXct' num(0) </span></span>
<span><span class="co">#&gt;   ..$ name      : logi(0) </span></span>
<span><span class="co">#&gt;   ..$ value     : logi(0) </span></span>
<span><span class="co">#&gt;  $ content    : raw [1:4582] 7b 22 64 6f ...</span></span>
<span><span class="co">#&gt;  $ date       : POSIXct[1:1], format: "2022-10-29 16:56:50"</span></span>
<span><span class="co">#&gt;  $ times      : Named num [1:6] 0 0.173 0.275 0.378 1.606 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr [1:6] "redirect" "namelookup" "connect" "pretransfer" ...</span></span>
<span><span class="co">#&gt;  $ request    :List of 5</span></span>
<span><span class="co">#&gt;   ..$ method : chr "GET"</span></span>
<span><span class="co">#&gt;   ..$ url    : chr "https://api.figma.com/v1/files/hch8YlkIrYbU3raDzjPvCz"</span></span>
<span><span class="co">#&gt;   ..$ fields : NULL</span></span>
<span><span class="co">#&gt;   ..$ options:List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ useragent: chr "libcurl/7.68.0 r-curl/4.3.2 httr/1.4.3"</span></span>
<span><span class="co">#&gt;   .. ..$ httpget  : logi TRUE</span></span>
<span><span class="co">#&gt;   ..$ output : list()</span></span>
<span><span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "write_memory" "write_function"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr "request"</span></span>
<span><span class="co">#&gt;  $ handle     :Class 'curl_handle' &lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "response"</span></span></code></pre></div>
<p>All of your Figma file data is in the <code>content</code> element,
so, you would use the command <code>untitled_file$content</code> to
access it. But, by default, the Figma API sends the data of your Figma
file as raw bytes:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">untitled_file</span><span class="op">$</span><span class="va">content</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7b 22 64 6f 63 75</span></span></code></pre></div>
<p>So you need to convert these bytes in a more useful format like a
JSON object, or a character vector, or as pure text. To do this
conversion, I recommend you to use the <code><a href="https://httr.r-lib.org/reference/content.html" class="external-link">httr::content()</a></code>
function. By default, this function converts the raw bytes into a R
list.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_of_nodes</span> <span class="op">&lt;-</span> <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html" class="external-link">content</a></span><span class="op">(</span><span class="va">untitled_file</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">list_of_nodes</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "document"      "components"    "componentSets" "schemaVersion"</span></span>
<span><span class="co">#&gt;  [5] "styles"        "name"          "lastModified"  "thumbnailUrl" </span></span>
<span><span class="co">#&gt;  [9] "version"       "role"          "editorType"    "linkAccess"</span></span></code></pre></div>
<p>The canvas/pages nodes are in the
<code>list_of_nodes$document$children</code> element, and the objects
nodes are in the <code>children</code> element of each canvas/page node
(e.g.¬†
<code>list_of_nodes$document$children[[1]][["children"]]</code>).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">first_canvas_node</span> <span class="op">&lt;-</span> <span class="va">list_of_nodes</span><span class="op">$</span><span class="va">document</span><span class="op">$</span><span class="va">children</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">first_object_node</span> <span class="op">&lt;-</span> <span class="va">first_canvas_node</span><span class="op">[[</span><span class="st">"children"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="output-a-figma-document-object">1.6 Output a Figma Document object<a class="anchor" aria-label="anchor" href="#output-a-figma-document-object"></a>
</h3>
<p>With <code>.output_argument = "figma_document"</code>,
<code><a href="../reference/get_figma_file.html">get_figma_file()</a></code> will output a Figma Document object,
instead of a <code>response</code> object.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_key</span> <span class="op">&lt;-</span> <span class="st">"hch8YlkIrYbU3raDzjPvCz"</span></span>
<span><span class="co"># Insert your personal token:</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="st">"Your personal token ..."</span></span>
<span></span>
<span><span class="va">figma_document</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu"><a href="../reference/get_figma_file.html">get_figma_file</a></span><span class="op">(</span></span>
<span>  <span class="va">file_key</span>, <span class="va">token</span>,</span>
<span>  .output_format <span class="op">=</span> <span class="st">"figma_document"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># A `figma_document` object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">figma_document</span><span class="op">)</span></span></code></pre></div>
<p>Or, analogously:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">figma_document</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu"><a href="../reference/as_figma_document.html">as_figma_document</a></span><span class="op">(</span><span class="va">untitled_file</span><span class="op">)</span></span>
<span><span class="va">figma_document</span></span>
<span><span class="co">#&gt; &lt;Figma Document&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  * Number of canvas: 2 </span></span>
<span><span class="co">#&gt;  * Number of objects in each canvas: 3 2</span></span></code></pre></div>
<p>This object is just a R list with class <code>figma_document</code>.
The main differences between this object and the <code>response</code>
object are:</p>
<ul>
<li>the <code>figma_document</code> object have only data about your
Figma file (i.e.¬†no data about the HTTP request made to the Figma
API);</li>
<li>the data of your Figma file is a little more organized in the
<code>figma_document</code> object;</li>
</ul>
<p>In a <code>figma_document</code> object, all of the document metadata
of your Figma file (like the name/title of the file, the last time it
was modified, its components, etc‚Ä¶) is available in the
<code>document</code> element:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">figma_document</span><span class="op">$</span><span class="va">document</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 13</span></span>
<span><span class="co">#&gt;  $ id           : chr "0:0"</span></span>
<span><span class="co">#&gt;  $ type         : chr "DOCUMENT"</span></span>
<span><span class="co">#&gt;  $ name         : chr "Untitled"</span></span>
<span><span class="co">#&gt;  $ components   : Named list()</span></span>
<span><span class="co">#&gt;  $ componentSets: Named list()</span></span>
<span><span class="co">#&gt;  $ styles       : Named list()</span></span>
<span><span class="co">#&gt;  $ schemaVersion: int 0</span></span>
<span><span class="co">#&gt;  $ lastModified : chr "2022-10-25T00:36:59Z"</span></span>
<span><span class="co">#&gt;  $ thumbnailUrl : chr "https://s3-alpha-sig.figma.com/thumbnails/065f8c7c-af9c-4f7f-bb80-e1c9ad6b62b5?Expires=1667779200&amp;Signature=Gz5"| __truncated__</span></span>
<span><span class="co">#&gt;  $ version      : chr "2514657369"</span></span>
<span><span class="co">#&gt;  $ role         : chr "owner"</span></span>
<span><span class="co">#&gt;  $ editorType   : chr "figma"</span></span>
<span><span class="co">#&gt;  $ linkAccess   : chr "view"</span></span></code></pre></div>
<p>Furthermore, you can get the data of each canvas/page (and their
respective objects) in the <code>canvas</code> element:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">figma_document</span><span class="op">$</span><span class="va">canvas</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "id"                   "name"                 "type"                </span></span>
<span><span class="co">#&gt; [4] "objects"              "backgroundColor"      "prototypeStartNodeID"</span></span>
<span><span class="co">#&gt; [7] "flowStartingPoints"   "prototypeDevice"</span></span></code></pre></div>
<p>And the data of all the objects present in each canvas is found in
the <code>objects</code> element:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">first_canvas_node</span> <span class="op">&lt;-</span> <span class="va">figma_document</span><span class="op">$</span><span class="va">canvas</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">first_object_node</span> <span class="op">&lt;-</span> <span class="va">first_canvas_node</span><span class="op">$</span><span class="va">objects</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">first_object_node</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 12</span></span>
<span><span class="co">#&gt;  $ id                  : chr "1:2"</span></span>
<span><span class="co">#&gt;  $ name                : chr "Background"</span></span>
<span><span class="co">#&gt;  $ type                : chr "RECTANGLE"</span></span>
<span><span class="co">#&gt;  $ blendMode           : chr "PASS_THROUGH"</span></span>
<span><span class="co">#&gt;  $ absoluteBoundingBox :List of 4</span></span>
<span><span class="co">#&gt;   ..$ x     : num -379</span></span>
<span><span class="co">#&gt;   ..$ y     : num -277</span></span>
<span><span class="co">#&gt;   ..$ width : num 793</span></span>
<span><span class="co">#&gt;   ..$ height: num 549</span></span>
<span><span class="co">#&gt;  $ absoluteRenderBounds:List of 4</span></span>
<span><span class="co">#&gt;   ..$ x     : num -379</span></span>
<span><span class="co">#&gt;   ..$ y     : num -277</span></span>
<span><span class="co">#&gt;   ..$ width : num 793</span></span>
<span><span class="co">#&gt;   ..$ height: num 549</span></span>
<span><span class="co">#&gt;  $ constraints         :List of 2</span></span>
<span><span class="co">#&gt;   ..$ vertical  : chr "TOP"</span></span>
<span><span class="co">#&gt;   ..$ horizontal: chr "LEFT"</span></span>
<span><span class="co">#&gt;  $ fills               :List of 1</span></span>
<span><span class="co">#&gt;   ..$ :List of 3</span></span>
<span><span class="co">#&gt;   .. ..$ blendMode: chr "NORMAL"</span></span>
<span><span class="co">#&gt;   .. ..$ type     : chr "SOLID"</span></span>
<span><span class="co">#&gt;   .. ..$ color    :List of 4</span></span>
<span><span class="co">#&gt;   .. .. ..$ r: num 0.851</span></span>
<span><span class="co">#&gt;   .. .. ..$ g: num 0.851</span></span>
<span><span class="co">#&gt;   .. .. ..$ b: num 0.851</span></span>
<span><span class="co">#&gt;   .. .. ..$ a: num 1</span></span>
<span><span class="co">#&gt;  $ strokes             : list()</span></span>
<span><span class="co">#&gt;  $ strokeWeight        : num 1</span></span>
<span><span class="co">#&gt;  $ strokeAlign         : chr "INSIDE"</span></span>
<span><span class="co">#&gt;  $ effects             : list()</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="output-a-tibbletibble-object">1.7 Output a <code>tibble::tibble()</code> object<a class="anchor" aria-label="anchor" href="#output-a-tibbletibble-object"></a>
</h3>
<p>With <code>.output_format = "tibble</code>,
<code><a href="../reference/get_figma_file.html">get_figma_file()</a></code> will output a
<code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> object, instead of a <code>response</code>
object. This is probably the most useful and friendly output format that
you can use:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_key</span> <span class="op">&lt;-</span> <span class="st">"hch8YlkIrYbU3raDzjPvCz"</span></span>
<span><span class="co"># Insert your personal token:</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="st">"Your personal token ..."</span></span>
<span></span>
<span><span class="va">tibble</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu"><a href="../reference/get_figma_file.html">get_figma_file</a></span><span class="op">(</span></span>
<span>  <span class="va">file_key</span>, <span class="va">token</span>,</span>
<span>  .output_format <span class="op">=</span> <span class="st">"tibble"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># A `tibble` object:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tibble</span><span class="op">)</span></span></code></pre></div>
<p>Or, analogously:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tibble</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu"><a href="../reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">untitled_file</span><span class="op">)</span></span>
<span><span class="va">tibble</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 √ó 7</span></span></span>
<span><span class="co">#&gt;   canvas_id canvas_name canvas_type object_id object_name   objec‚Ä¶¬π object_att‚Ä¶¬≤</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0:1       Page 1      CANVAS      1:2       Background    RECTAN‚Ä¶ &lt;named list&gt;</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0:1       Page 1      CANVAS      5:2       Paragraph     TEXT    &lt;named list&gt;</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0:1       Page 1      CANVAS      5:3       Arrow         VECTOR  &lt;named list&gt;</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 5:4       Page 2      CANVAS      5:5       BackgroundPa‚Ä¶ RECTAN‚Ä¶ &lt;named list&gt;</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 5:4       Page 2      CANVAS      5:6       Texto da p√°g‚Ä¶ TEXT    &lt;named list&gt;</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ‚Ä¶ with abbreviated variable names ¬π‚Äãobject_type, ¬≤‚Äãobject_attributes</span></span></span></code></pre></div>
<p>Each row in the resulting tibble, is a object present in one of the
canvas of your Figma file. As an example, the Figma file stored in
<code>untitled_file</code> have 2 canvas/pages: 3 objects in the first
canvas, and 2 objects in the second canvas. So 3 objects + 2 objects = 5
rows in the output tibble.</p>
<p>The columns with <code>canvas_</code> prefix stores the metadata
about the canvas on which the object of the corresponding row is. And
the columns with <code>object_</code> prefix stores the data about the
object of the corresponding row.</p>
<p>Each object can have a different type (it can be a RECTANGLE, a TEXT,
a VECTOR, etc.), and different types of objects usually have different
kinds of attributes. The attributes of each object are stored in the
<code>object_attributes</code> column.</p>
<!-- # 2 The structure of a Figma file -->
<!-- A Figma file is represented as a tree of nodes. is composed of a set of canvas (or pages), and  -->
<!-- each canvas contains a set of multiple objects. So, the canvas is the visual space where you draw,  -->
<!-- and, each object represents a layer, or, a visual element that you add to this space. -->
<!-- Each object that you add can be of a different type (like TEXT, RECTANGLE, VECTOR, etc.).  -->
<!-- But each canvas is always. -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pedro Faria.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
