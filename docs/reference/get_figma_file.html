<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function uses the /v1/files/ endpoint of Figma API to get all of
the data of a particular Figma file, and fit it into a R object."><title>Get data of a Figma File from the API — get_figma_file • figma</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get data of a Figma File from the API — get_figma_file"><meta property="og:description" content="This function uses the /v1/files/ endpoint of Figma API to get all of
the data of a particular Figma file, and fit it into a R object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">figma</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/figma.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/http-errors.html">Common HTTP errors in the Figma API</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pedropark99/figma/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get data of a Figma File from the API</h1>
      <small class="dont-index">Source: <a href="https://github.com/pedropark99/figma/blob/HEAD/R/figma.R" class="external-link"><code>R/figma.R</code></a></small>
      <div class="d-none name"><code>get_figma_file.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function uses the <code>/v1/files/</code> endpoint of Figma API to get all of
the data of a particular Figma file, and fit it into a R object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_figma_file</span><span class="op">(</span></span>
<span>  <span class="va">file_key</span>,</span>
<span>  <span class="va">token</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .output_format <span class="op">=</span> <span class="st">"response"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file_key</dt>
<dd><p>A string with the key of the Figma File you want to get;</p></dd>


<dt>token</dt>
<dd><p>A string with your personal Figma token to authenticate in the API;</p></dd>


<dt>geometry</dt>
<dd><p>A boolean value indicating if you want to export vector data.
Defaults to FALSE;</p></dd>


<dt>.output_format</dt>
<dd><p>The output format. Options are <code>"response",
"figma_document", "tibble"</code>. Defaults to <code>"response"</code>;</p></dd>


<dt>...</dt>
<dd><p>Further arguments that are passed to <code><a href="parse_response_object.html">parse_response_object()</a></code>;</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>By default, <code>get_figma_file()</code> do not parse the output from
the API, and returns the raw <code>response</code> object
produced by the <code>httr</code> HTTP methods (e.g. <code><a href="https://httr.r-lib.org/reference/GET.html" class="external-link">httr::GET()</a></code>).</p>


<p>But you can change this behavior with <code>.output_format</code> argument. With
<code>.output_format = "tibble"</code>, a <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> object
is returned. With <code>.output_format = "figma_document"</code>, a object of
class <code>figma_document</code> is returned (See Details
section for more information).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>With this function you can bring all of the data of your Figma file into R.
By default, <code>get_figma_file()</code> returns a `response` object with all of
the data returned by the API. That is, not only the data of your Figma file,
but also, the data from the HTTP request.</p>
<p>All of your Figma file data is in the <code>content</code> element of
the `response` object. However, by default, the Figma API returns this data in
<code>raw</code> format (that is, as raw bytes). To convert these bytes into a
useful object (like a JSON object, or a character vector, or a list), is
highly recommended to apply the <code><a href="https://httr.r-lib.org/reference/content.html" class="external-link">httr::content()</a></code> function over this
<code>content</code> element.</p>
<p>Although this being a useful output format (i.e. `response` object)
(specially because it brings all of the available data), you might want
a more "formatted" (or friendly) output. In this case, you can use the
<code>.output_format</code> argument to get a different output format.</p>
<p>With <code>.output_format = "figma_document"</code>, <code>get_figma_file()</code>
use <code><a href="as_figma_document.html">figma::as_figma_document()</a></code> to convert the `response` object
into a Figma Document object (i.e. a object of class <code>figma_document</code>),
and returns it as the output. This <code>figma_document</code> object, is a normal
R list, with only the data of your Figma file (See documentation of
<code><a href="as_figma_document.html">figma::as_figma_document()</a></code> for more details).</p>
<p>With <code>.output_format = "tibble"</code>, <code>get_figma_file()</code> will use
<code><a href="as_tibble.html">figma::as_tibble()</a></code> to parse the output from the API to fit into a
<code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> object. If you use this output format, you can also
use the <code>simplified</code> argument to control if document metadata should be
present in the resulting <code>tibble</code> (See examples section).</p>
<p>By default, <code>simplified</code> is set to <code>TRUE</code>, so <code>get_figma_file()</code>
outputs a tibble with all the objects data from your Figma file, and their
corresponding canvas metadata. However, it does not include any metadata from
the document per se.</p>
<p>In other words, with <code>simplified = TRUE</code> you get all the data of the
objects from each canvas in your Figma file, but you do not get any metadata
from the document. That is okay, because you usually do not need these
informations.</p>
<p>But if you want them in the resulting tibble, pass <code>simplified = FALSE</code>
to <code>get_figma_file()</code>. If you want just the document metadata (and not
the canvas or objects data), you might want to use the <code><a href="get_document_info.html">get_document_info()</a></code>
function instead of <code>get_figma_file()</code> (See <code><a href="get_document_info.html">get_document_info()</a></code>
documentation for more details).</p>
    </div>
    <div class="section level2">
    <h2 id="be-aware-of-possible-http-errors">Be aware of possible HTTP errors<a class="anchor" aria-label="anchor" href="#be-aware-of-possible-http-errors"></a></h2>
    

<p>To get the data of your Figma file, the functions from <code>figma</code> package make a HTTP
request to the Figma API. But this request can fail for a number of reasons, and if this
does happen, <code>get_figma_file()</code> will use <code>report_http_error()</code> to raise an error
and report to the user, what kind of error message the Figma API returned.
See <code><a href="../articles/http-errors.html">vignette("http-errors")</a></code> for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="as_tibble.html">as_tibble</a></code></p>
<p><code><a href="as_figma_document.html">as_figma_document</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pedropark99/figma" class="external-link">figma</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">file_key</span> <span class="op">&lt;-</span> <span class="st">"hch8YlkgaUIZ9raDzjPvCz"</span></span></span>
<span class="r-in"><span><span class="va">token</span> <span class="op">&lt;-</span> <span class="st">"my figma token secret ... "</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a `response` object:</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu">get_figma_file</span><span class="op">(</span><span class="va">file_key</span>, <span class="va">token</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a `tibble` object:</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu">get_figma_file</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">file_key</span>, <span class="va">token</span>, .output_format <span class="op">=</span> <span class="st">"tibble"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns the same `tibble` object as before</span></span></span>
<span class="r-in"><span><span class="co"># but, now, with all the metadata from the</span></span></span>
<span class="r-in"><span><span class="co"># Figma document too:</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu">get_figma_file</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">file_key</span>, <span class="va">token</span>,</span></span>
<span class="r-in"><span>  .output_format <span class="op">=</span> <span class="st">"tibble"</span>,</span></span>
<span class="r-in"><span>  simplified <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a `figma_document` object:</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">figma</span><span class="fu">::</span><span class="fu">get_figma_file</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">file_key</span>, <span class="va">token</span>, .output_format <span class="op">=</span> <span class="st">"figma_document"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pedro Faria.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

